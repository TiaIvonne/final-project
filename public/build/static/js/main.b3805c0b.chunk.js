(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,a){e.exports=a(339)},157:function(e,t,a){},334:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},339:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(142),l=a.n(s),c=a(4),o=a(5),i=a(7),m=a(6),u=a(8),d=(a(157),a(28)),p=a(143),h=function(e){var t=e.component,a=e.loggedIn,n=Object(p.a)(e,["component","loggedIn"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,Object.assign({},e,n)):r.a.createElement(d.a,{to:"/login"})}}))},f=a(10),E=a(9),g=a.n(E),v=a(2),b=a(13),N=a.n(b),O=a(54),y=a(146),C=a.n(y),w=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getReviewerUsername=function(){g()({method:"post",url:"".concat(w.REACT_APP_api,"/reviewer"),data:{reviewerId:a.props.reviewer},withCredentials:!0}).then(function(e){a.setState({reviewer:e.data})}).catch(function(e){console.log(e)})},a.state={reviewer:{}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getReviewerUsername()}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title"},this.props.opinion),r.a.createElement("p",null,"Date ",r.a.createElement(N.a,{format:"D MMM YYYY",withTitle:!0},this.props.date)),r.a.createElement("p",{className:"subtitle"},"Username: ",this.state.reviewer.username)))}}]),t}(n.Component),P=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),k=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleInput=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r))},e.getAuthorInfo=function(){var t=e.props.match.params.id;g()({method:"get",url:"".concat(P.REACT_APP_api,"/author-profile/").concat(t),withCredentials:!0}).then(function(t){e.setState({authorProfile:t.data})}).catch(function(e){console.log(e)})},e.handleSubmitReview=function(t){t.preventDefault();var a=new FormData(e.form.current);g()({method:"post",url:"".concat(P.REACT_APP_api,"/author-profile"),config:{headers:{"Content-Type":"multipart/form-data"}},data:a,withCredentials:!0}).then(function(t){e.setState({success:"You successfully added a review!",newReview:t.data})}).then(function(){e.sendUserId()}).catch(function(t){e.setState({error:"Could not add your review"})})},e.sendUserId=function(){g()({method:"post",url:"".concat(P.REACT_APP_api,"/user-reviewed-id"),data:{userReviewedId:e.state.authorProfile._id,newReviewId:e.state.newReview._id},withCredentials:!0}).then(function(e){console.log("Found the user")}).catch(function(t){e.setState({error:"Could not add your review"})})},e.getReviews=function(){g()({method:"get",url:"".concat(P.REACT_APP_api,"/get-reviews"),withCredentials:!0}).then(function(t){e.setState({listOfReviews:t.data})}).catch(function(e){})},e.handlePageClick=function(t){e.setState({currentPage:Number(t.target.id)})},e.state={rating:1,authorProfile:{},opinion:"",date:"",error:"",success:"",bio:"",newReview:void 0,listOfReviews:[],currentPage:1,reviewsPerPage:5},e.form=r.a.createRef(),e.onStarClick=e.onStarClick.bind(Object(f.a)(Object(f.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onStarClick",value:function(e,t,a){this.setState({rating:e})}},{key:"componentDidMount",value:function(){this.getAuthorInfo(),this.getReviews()}},{key:"render",value:function(){for(var e=this,t=this.state.rating,a=this.state,n=a.listOfReviews,s=a.currentPage,l=a.reviewsPerPage,c=s*l,o=c-l,i=n.slice(o,c).map(function(e){return r.a.createElement(j,{rating:e.rating,opinion:e.opinion,date:e.date,pictureUrl:e.picture,reviewer:e.reviewer})}),m=[],u=1;u<=Math.ceil(n.length/l);u++)m.push(u);var d=m.map(function(t){return r.a.createElement("li",{key:t,id:t,onClick:e.handlePageClick},t)});return r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"card column is-3"},r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-square"},r.a.createElement("img",{src:"".concat(P.REACT_APP_api,"/").concat(this.state.authorProfile.profileImage),alt:"User profile"}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},this.state.authorProfile.firstname,"\xa0",this.state.authorProfile.lastname),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"In the app from: \xa0",r.a.createElement(N.a,{format:"D MMM YYYY",withTitle:!0},this.state.authorProfile.registrationDate))))),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,this.state.authorProfile.bio)))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"column"},r.a.createElement("form",{ref:this.form,onSubmit:this.handleSubmitReview},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Reviews"),r.a.createElement("div",{className:"control"},r.a.createElement("h2",null,"Your Rating: ",t),r.a.createElement(C.a,{name:"rate1",starCount:5,value:t,onStarClick:this.onStarClick}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Opinion"),r.a.createElement("div",{className:"control has-icons-left has-icons-right"},r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{onChange:this.handleInput,name:"opinion",value:this.state.opinion,className:"textarea",placeholder:"Your opinion"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Date"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,name:"date",value:this.state.date,className:"input",type:"date",placeholder:"Date of activity"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Picture"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,name:"review-image",className:"input",type:"file"}))),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{handleSubmitReview:!0,className:"button is-link"},"Submit")),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-text"},"Cancel"))))),r.a.createElement("h1",{className:"title"},"List of reviews"),r.a.createElement("div",{className:"column"},i,r.a.createElement("ul",{id:"page-numbers"},d))))}}]),t}(n.Component),I=a(341),_=a(342),A=a(343),S=a(344),D=a(345),R=a(346),T=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),M={display:"block"},U={display:"none"},x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",author:"",description:"",category:"",errorTimeWallet:"",myOffer:void 0},a.handleApply=function(e){e.preventDefault(),g()({method:"post",url:"".concat(T.REACT_APP_api,"/apply"),data:{offerId:a.props.offerIdentificator},withCredentials:!0}).then(function(e){"Not enough time in the wallet to apply"===e.data.message?a.setState({errorTimeWallet:"You don't have enough time in your wallet to apply to this offer"}):a.props.history.push("/dashboard")}).catch(function(e){console.log(e)})},a.sendEmail=function(e){e.preventDefault(),g()({method:"post",data:{offerId:a.props.offerIdentificator},url:"".concat(T.REACT_APP_api,"/send-mail"),withCredentials:!0}).then(function(e){console.log("sent")}).catch(function(e){console.log(e)})},a.redirectToLogin=function(){a.props.history.push("/login")},a.redirectToAuthorProfile=function(){a.props.history.push("/profile/".concat(a.props.author))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modal",style:this.props.toggle?M:U},r.a.createElement("div",{className:"modal-background"}),r.a.createElement("div",{className:"modal-card"},r.a.createElement("header",{className:"modal-card-head"},r.a.createElement("p",{className:"modal-card-title modal-offer-title"},this.props.title),r.a.createElement(v.b,null,r.a.createElement("button",{className:"delete",onClick:this.props.close,"aria-label":"close"}))),r.a.createElement("section",{className:"modal-card-body"},r.a.createElement("div",{className:"media columns"},r.a.createElement("div",{className:"content column"},r.a.createElement("p",{className:"modal-card-title"},"Username: ",this.props.authorUsername),r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement(v.b,null,r.a.createElement("button",{onClick:this.redirectToAuthorProfile,className:"button is-success"},"See more")))))),r.a.createElement("div",{className:"media columns"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("img",{className:"image is-3by1 modal-image",src:"".concat(T.REACT_APP_api,"/").concat(this.props.image),alt:""})),r.a.createElement("div",{className:"column"},r.a.createElement("h1",{className:"modal-card-title"},"Description"),r.a.createElement("p",null,this.props.description),r.a.createElement("div",{className:"social-media level-left"},r.a.createElement(I.a,{url:"https://www.facebook.com"},r.a.createElement(_.a,{size:32,round:!0})),r.a.createElement(A.a,{url:"https://www.twitter.com"},r.a.createElement(S.a,{size:32,round:!0})),r.a.createElement(D.a,{url:"https://www.pinterest.com/"},r.a.createElement(R.a,{size:32,round:!0}))))),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("h1",{className:"modal-card-title"},"Category"),r.a.createElement("p",null,this.props.category),r.a.createElement("h1",{className:"modal-card-title"},"Postal Code"),r.a.createElement("p",null,this.props.postalCode)),r.a.createElement("div",{className:"column"},r.a.createElement("h1",{className:"modal-card-title"},"Date"),r.a.createElement("p",null,r.a.createElement(N.a,{format:"D MMM YYYY",withTitle:!0},this.props.dateOffer)),r.a.createElement("h1",{className:"modal-card-title"},"Duration"),r.a.createElement("p",null,this.props.durationOffer," hour(s)")))))),r.a.createElement("footer",{className:"modal-card-foot"},r.a.createElement(v.b,null,this.props.loggedIn?r.a.createElement("button",{onClick:function(t){e.handleApply(t),e.sendEmail(t)},className:"button is-success"},"Apply "):r.a.createElement("button",{onClick:this.redirectToLogin,className:"button is-dark"},"Apply ")),this.state.errorTimeWallet?r.a.createElement("p",{style:{color:"red"}},this.state.errorTimeWallet):r.a.createElement("p",null))))}}]),t}(n.Component),L=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),Y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getAllOffers=function(){g()({method:"get",url:"".concat(L.REACT_APP_api,"/display-offers"),withCredentials:!0}).then(function(e){a.setState({listOfOffers:e.data})}).catch(function(e){console.log("error")})},a.handlePageClick=function(e){a.setState({currentPage:Number(e.target.id)})},a.toggle=a.toggle.bind(Object(f.a)(Object(f.a)(a))),a.state={toggle:!1,listOfOffers:[],currentPage:1,offersPerPage:5},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(e){this.setState(function(){return{toggle:e}})}},{key:"componentDidMount",value:function(){this.getAllOffers()}},{key:"render",value:function(){for(var e=this,t=this.state,a=t.listOfOffers,n=t.currentPage,s=t.offersPerPage,l=n*s,c=l-s,o=a.slice(c,l).map(function(t){return r.a.createElement("div",{key:t._id},r.a.createElement("div",{className:"tile is-ancestor"},r.a.createElement("div",{className:"tile is-child box"},r.a.createElement("h3",{className:"title"},t.title),r.a.createElement("h4",null,"User: ",t.authorUsername),r.a.createElement("p",null,t.postalCode),r.a.createElement("p",null,t.description),r.a.createElement("p",null,t.category),r.a.createElement(v.b,{className:"btn",onClick:function(){e.toggle(t._id)}},"Open offer"))),r.a.createElement(x,Object.assign({},e.props,{close:e.toggle,toggle:e.state.toggle===t._id,offerIdentificator:t._id,title:t.title,image:t.image,author:t.author,authorUsername:t.authorUsername,authorProfileImage:t.authorProfileImage,postalCode:t.postalCode,description:t.description,category:t.category,dateOffer:t.date,durationOffer:t.duration})))}),i=[],m=1;m<=Math.ceil(a.length/s);m++)i.push(m);for(var u=i.map(function(t){return r.a.createElement("li",{key:t,id:t,onClick:e.handlePageClick,className:"column"},t)}),d=this.props.filteredOffers.slice(c,l).map(function(t){return r.a.createElement("div",{key:t._id},r.a.createElement("div",{className:"tile is-ancestor"},r.a.createElement("div",{className:"tile is-child box"},r.a.createElement("h3",{className:"title"},t.title),r.a.createElement("img",{src:"".concat(L.REACT_APP_api,"/").concat(t.authorProfileImage),alt:""}),r.a.createElement("h4",null,"User: ",t.authorUsername),r.a.createElement("p",null,t.postalCode),r.a.createElement("p",null,t.description),r.a.createElement("p",null,t.category),r.a.createElement(v.b,{className:"btn",onClick:function(){e.toggle(t._id)}}," Open offer"))),r.a.createElement(x,Object.assign({},e.state,e.props,{close:e.toggle,toggle:e.state.toggle===t._id,offerIdentificator:t._id,title:t.title,image:t.image,author:t.author,authorUsername:t.authorUsername,authorProfileImage:t.authorProfileImage,postalCode:t.postalCode,description:t.description,category:t.category,dateOffer:t.date,durationOffer:t.duration})))}),p=1;p<=Math.ceil(this.props.filteredOffers.length/s);p++)i.push(p);var h=[].map(function(t){return r.a.createElement("li",{key:t,id:t,onClick:e.handlePageClick,className:"column"},t)});return r.a.createElement(r.a.Fragment,null,this.props.filteredOffers.length>0?r.a.createElement("div",null,r.a.createElement("div",{className:"list is-hoverable"},d,r.a.createElement("div",{className:"columns page-numbers-column"},r.a.createElement("ul",{id:"page-numbers",className:"level column is-half is-offset-one-quarter columns"},h)))):r.a.createElement("div",null,r.a.createElement("div",{className:"list is-hoverable"},o,r.a.createElement("div",{className:"columns page-numbers-column"},r.a.createElement("ul",{id:"page-numbers",className:"level column is-half is-offset-one-quarter columns"},u)))))}}]),t}(n.Component),B=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleCheck=function(e){var t={};t[e.target.name]=e.target.name,a.setState(t)},a.handleSubmit=function(e){e.preventDefault();var t=a.state;g()({method:"post",url:"".concat(B.REACT_APP_api,"/search"),data:t,withCredentials:!0}).then(function(e){a.setState({filteredOffers:e.data})}).catch(function(e){a.setState({error:"Something went wrong! We could not do the search"})})},a.state={house:"",technology:"",music:"",repair:"",languages:"",cooking:"",filteredOffers:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container is-fluid"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-2"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"section"},r.a.createElement("label",{className:"checkbox level"},r.a.createElement("input",{onChange:this.handleCheck,name:"house",type:"checkbox"}),"House"),r.a.createElement("label",{className:"checkbox level"},r.a.createElement("input",{onChange:this.handleCheck,name:"technology",type:"checkbox"}),"Technology"),r.a.createElement("label",{className:"checkbox level"},r.a.createElement("input",{onChange:this.handleCheck,name:"music",type:"checkbox"}),"Music"),r.a.createElement("label",{className:"checkbox level"},r.a.createElement("input",{onChange:this.handleCheck,name:"repair",type:"checkbox"}),"Repair"),r.a.createElement("label",{className:"checkbox level"},r.a.createElement("input",{onChange:this.handleCheck,name:"languages",type:"checkbox"}),"Languages"),r.a.createElement("label",{className:"checkbox level"},r.a.createElement("input",{onChange:this.handleCheck,name:"cooking",type:"checkbox"}),"Cooking"),r.a.createElement("div",{className:"control level"},r.a.createElement("button",{className:"button is-link"},"Search ")),r.a.createElement("p",{style:{color:"red"}},this.state.error?this.state.error:""))),r.a.createElement("div",{className:"column"},r.a.createElement(Y,Object.assign({},this.props,{filteredOffers:this.state.filteredOffers})))))}}]),t}(n.Component),F=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"hero is-medium is-bold hero-bg"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"}))),r.a.createElement("div",{className:"section"},r.a.createElement(q,this.props)))}}]),t}(n.Component),V=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).approveOffer=function(e){e.preventDefault(),g()({method:"post",url:"".concat(V.REACT_APP_api,"/approve-offer"),data:{offerId:a.props.offerId},withCredentials:!0}).then(function(t){a.updateTimeWallet(e),a.setState({offerStatus:"Approved",offerApproved:t.data}),a.props.updateOffers(),a.props.history.push("/dashboard")}).catch(function(e){a.setState({error:"The offer could not be approved"})})},a.updateTimeWallet=function(e){e.preventDefault(),g()({method:"post",url:"".concat(V.REACT_APP_api,"/update-time-wallet"),data:{offerId:a.props.offerId},withCredentials:!0}).then(function(e){console.log("updated time wallet")}).catch(function(e){a.setState({error:"The time wallet could not be updated"})})},a.state={offerStatus:"",error:"",offerApproved:void 0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},this.props.title)),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"My username: \xa0",this.props.authorUsername," "),r.a.createElement("p",null,"Date: \xa0 ",r.a.createElement(N.a,{format:"D MMM YYYY",withTitle:!0},this.props.date)),r.a.createElement("p",null,"Duration: \xa0 ",this.props.duration," hour(s)"),r.a.createElement("p",{style:{color:"green"}},this.state.offerStatus?"You got ".concat(this.state.offerApproved.duration," hour(s) in your Time Wallet!"):""),r.a.createElement("p",{style:{color:"red"}},this.state.error?this.state.error:""))),r.a.createElement("footer",{className:"card-footer"},this.state.offerApproved?r.a.createElement("h1",{className:"card-footer-item"}," Offer status: \xa0 ",this.state.offerApproved.status):r.a.createElement("h1",{className:"card-footer-item"}," Offer status: \xa0 ",this.props.status),"Approved"===this.state.offerStatus?r.a.createElement(v.b,{className:"card-footer-item button is-success"},"Approved!"):r.a.createElement(r.a.Fragment,null,"Open"===this.props.status?null:r.a.createElement(r.a.Fragment,null,"Approved"===this.props.status?r.a.createElement(v.b,{className:"card-footer-item button is-success"},"Approved!"):r.a.createElement(v.b,{onClick:this.approveOffer,className:"card-footer-item button is-warning"},"Approve")))))}}]),t}(n.Component),H=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.listOfMyOffers),r.a.createElement(r.a.Fragment,null,0===this.props.listOfMyOffers.length?r.a.createElement("p",null,"You didn't get any request for any of your offers. ",r.a.createElement("em",null,"Yet!")):r.a.createElement("div",null,this.props.listOfMyOffers.map(function(t){return r.a.createElement(W,Object.assign({},e.props,{offerId:t._id,title:t.title,authorUsername:t.authorUsername,date:t.date,duration:t.duration,status:t.status}))})))}}]),t}(n.Component),z=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},this.props.title)),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"Author ",this.props.authorUsername),r.a.createElement("p",null,"Date ",r.a.createElement(N.a,{format:"D MMM YYYY",withTitle:!0},this.props.date)),r.a.createElement("p",null,"Duration ",this.props.duration," hour(s)"))),r.a.createElement("footer",{className:"card-footer"},function(){switch(e.props.status){case"Open":return r.a.createElement("h1",{className:"card-footer-item"},e.props.status);case"Pending":return r.a.createElement("h1",{className:"card-footer-item has-background-warning"},e.props.status);case"Approved":return r.a.createElement("h1",{className:"card-footer-item has-background-success"},e.props.status);default:return null}}()))}}]),t}(n.Component),Z=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,0===this.props.listOfPetitions.length?r.a.createElement("p",null,"You still haven't applied to any offer, do you want to check ",r.a.createElement(v.b,{to:"/"},"all the avalaible offers")," now?"):r.a.createElement("div",null,this.props.listOfPetitions.map(function(t){return r.a.createElement(z,Object.assign({},e.props,{title:t.title,Username:t.authorUsername,date:t.date,duration:t.duration,status:t.status}))})))}}]),t}(n.Component),$=a(85),J=a(83),X=a.n(J),G=a(84);function K(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"19394183",a=this.state.currentUser;return this.setState({messages:[]}),a.subscribeToRoom({roomId:"".concat(t),messageLimit:100,hooks:{onMessage:function(t){e.setState({messages:[].concat(Object($.a)(e.state.messages),[t])})},onPresenceChanged:function(){var t=e.state.currentRoom;e.setState({roomUsers:t.users.sort(function(e){return"online"===e.presence.state?-1:1})})}}}).then(function(t){var n=t.customData&&t.customData.isDirectMessage?t.customData.userIds.filter(function(e){return e!==a.id})[0]:t.name;e.setState({currentRoom:t,roomUsers:t.users,rooms:a.rooms,roomName:n})}).catch(console.error)}function Q(e){var t=this;(function(e){var t=this.state,a=t.currentUser,n=t.rooms,r="".concat(a.id,"_").concat(e),s=n.filter(function(t){if(t.customData&&t.customData.isDirectMessage){var n=[a.id,e],r=t.customData.userIds;if(n.sort().join("")===r.sort().join(""))return{room:t}}return!1});return s.length>0?Promise.resolve(s[0]):a.createRoom({name:"".concat(r),private:!0,addUserIds:["".concat(e)],customData:{isDirectMessage:!0,userIds:[a.id,e]}})}).call(this,e).then(function(e){K.call(t,e.id)})}var ee=function(e){var t=e.userId,a=e.handleInput,n=e.connectToChatkit;return r.a.createElement("div",{className:"dialog-container"},r.a.createElement("div",{className:"dialog"},r.a.createElement("form",{className:"dialog-form",onSubmit:n},r.a.createElement("label",{className:"username-label",htmlFor:"username"},"Enter your username"),r.a.createElement("input",{id:"username",className:"username-input",autoFocus:!0,type:"text",name:"userId",value:t,onChange:a,placeholder:"Enter your username"}),r.a.createElement("button",{type:"submit",className:"submit-btn"},"Submit"))))},te=function(e){var t=e.rooms,a=e.currentRoom,n=e.connectToRoom,s=e.currentUser,l=t.map(function(e){var t=e.isPrivate?"\ud83d\udd12":"\ud83c\udf10",l=e.id===a.id?"active":"";return r.a.createElement("li",{className:l,key:e.id,onClick:function(){return n(e.id)}},r.a.createElement("span",{className:"room-icon"},t),e.customData&&e.customData.isDirectMessage?r.a.createElement("span",{className:"room-name"},e.customData.userIds.filter(function(e){return e!==s.id})[0]):r.a.createElement("span",{className:"room-name"},e.name))});return r.a.createElement("div",{className:"rooms"},r.a.createElement("ul",{className:"chat-rooms"},l))},ae=a(151),ne=function(e){return e.messages.map(function(e){var t=Object(ae.format)(new Date("".concat(e.updatedAt)),"HH:mm");return r.a.createElement("li",{className:"message",key:e.id},r.a.createElement("div",null,r.a.createElement("span",{className:"user-id"},e.senderId),r.a.createElement("span",null,e.text)),r.a.createElement("span",{className:"message-time"},t))})},re=function(e){var t=e.roomUsers,a=e.sendDM,n=e.currentUser,s=t.map(function(e){return r.a.createElement("li",{className:"room-member",key:e.id},r.a.createElement("div",null,r.a.createElement("span",{className:"presence ".concat(e.presence.state)}),r.a.createElement("span",null,e.name)),n.id!==e.id?r.a.createElement("button",{onClick:function(){return a(e.id)},title:"Send ".concat(e.name," a direct message"),className:"send-dm"},"+"):null)});return r.a.createElement("div",{className:"room-users"},r.a.createElement("ul",null,s))},se=(a(334),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={userId:"",showLogin:!0,isLoading:!1,currentUser:null,currentRoom:null,rooms:[],roomUsers:[],roomName:null,messages:[],newMessage:""},a.handleInput=function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(O.a)({},n,a))}.bind(Object(f.a)(Object(f.a)(a))),a.connectToChatkit=function(e){var t=this;e.preventDefault();var a=this.state.userId;null!==a&&""!==a.trim()?(this.setState({isLoading:!0}),g.a.post("".concat(G.REACT_APP_api,"/chat-users"),{userId:a}).then(function(){var e=new X.a.TokenProvider({url:"".concat(G.REACT_APP_api,"/authenticate")});return new X.a.ChatManager({instanceLocator:"v1:us1:f51d67d6-018a-4569-b4d8-59e517592a01",userId:a,tokenProvider:e}).connect({onAddedToRoom:function(e){var a=t.state.rooms;t.setState({rooms:[].concat(Object($.a)(a),[e])})}}).then(function(e){t.setState({currentUser:e,showLogin:!1,isLoading:!1,rooms:e.rooms},function(){return K.call(t)})})}).catch(console.error)):alert("Invalid userId")}.bind(Object(f.a)(Object(f.a)(a))),a.connectToRoom=K.bind(Object(f.a)(Object(f.a)(a))),a.sendMessage=function(e){e.preventDefault();var t=this.state,a=t.newMessage,n=t.currentUser,r=t.currentRoom;""!==a.trim()&&(n.sendMessage({text:a,roomId:"".concat(r.id)}),this.setState({newMessage:""}))}.bind(Object(f.a)(Object(f.a)(a))),a.sendDM=Q.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.userId,a=e.showLogin,n=e.rooms,s=e.currentRoom,l=e.currentUser,c=e.messages,o=e.newMessage,i=e.roomUsers,m=e.roomName;return r.a.createElement("div",{className:"direct-messages"},r.a.createElement("aside",{className:"sidebar left-sidebar"},l?r.a.createElement("div",{className:"user-profile"},r.a.createElement("span",{className:"username"},l.name),r.a.createElement("span",{className:"user-id"},"@".concat(l.id))):null,s?r.a.createElement(te,{rooms:n,currentRoom:s,connectToRoom:this.connectToRoom,currentUser:l}):null),r.a.createElement("section",{className:"chat-screen"},r.a.createElement("header",{className:"chat-header"},s?r.a.createElement("h3",null,m):null),r.a.createElement("ul",{className:"chat-messages"},r.a.createElement(ne,{messages:c})),r.a.createElement("footer",{className:"chat-footer"},r.a.createElement("form",{onSubmit:this.sendMessage,className:"message-form"},r.a.createElement("input",{type:"text",value:o,name:"newMessage",className:"message-input",placeholder:"Type your message and hit ENTER to send",onChange:this.handleInput})))),r.a.createElement("aside",{className:"sidebar right-sidebar"},s?r.a.createElement(re,{currentUser:l,sendDM:this.sendDM,roomUsers:i}):null),a?r.a.createElement(ee,{userId:t,handleInput:this.handleInput,connectToChatkit:this.connectToChatkit}):null)}}]),t}(n.Component)),le=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),ce=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={email:"",bio:"",user:[],error:"",success:""},a.handleInput=function(e){var t={};t[e.target.name]=e.target.value,a.setState(t)},a.handleSubmitProfileImage=function(e){e.preventDefault();var t=new FormData(a.form.current);g()({method:"post",url:"".concat(le.REACT_APP_api,"/profile-image"),config:{headers:{"Content-Type":"multipart/form-data"}},data:t,withCredentials:!0}).then(function(e){a.setState({success:"You updated your personal information successfully"}),a.props.history.push("/dashboard")}).catch(function(e){a.setState({error:"Could not edit personal information"})})},a.handleSubmitPersonalInfo=function(e){e.preventDefault();var t=a.state;g()({method:"post",url:"".concat(le.REACT_APP_api,"/user-settings"),data:t,withCredentials:!0}).then(function(e){a.setState({success:"You updated your personal information successfully"}),a.props.history.push("/dashboard")}).catch(function(e){a.setState({error:"Could not edit personal information"})})},a.form=r.a.createRef(),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{className:"column"},r.a.createElement("p",{style:{color:"green"}},this.state.success?this.state.success:""),r.a.createElement("h3",{className:"title has-text-grey"},"User's settings"),r.a.createElement("div",{className:"box"},r.a.createElement("form",{ref:this.form,onSubmit:this.handleSubmitProfileImage},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Image"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,name:"profile-image",className:"input",type:"file"}))),r.a.createElement("p",{style:{color:"red"}},this.state.error?this.state.error:""),r.a.createElement("button",{className:"button is-block is-large is-fullwidth",value:"submit"},"Edit profile image"))),r.a.createElement("div",{className:"box"},r.a.createElement("form",{onSubmit:this.handleSubmitPersonalInfo},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("p",null,this.state.user.firstname))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("p",null,this.state.user.lastname))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("p",null,this.state.user.username))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Bio"),r.a.createElement("div",{className:"control has-icons-left has-icons-right"},r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{onChange:this.handleInput,name:"bio",className:"textarea",placeholder:"Describe yourself in max 250 characters",maxLength:"250",value:this.state.bio})))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,className:"input is-large",type:"email",name:"email",placeholder:"e-mail",value:this.state.email}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("p",null,this.state.user.birth))),r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control has-icons-left"},r.a.createElement("input",{onChange:this.handleInput,className:"input is-large",type:"password",name:"password",placeholder:"Password",value:this.state.password,pattern:"^[a-zA-Z0-9]{8,}$",title:"At least 8 characters"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"})))),r.a.createElement("p",{style:{color:"red"}},this.state.error?this.state.error:""),r.a.createElement("button",{className:"button is-block is-large is-fullwidth",value:"submit"},"Edit personal information")))))}}]),t}(n.Component),oe=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),ie=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={profileInfo:{}},a.getProfileInfo=function(){g()({method:"get",url:"".concat(oe.REACT_APP_api,"/my-profile"),withCredentials:!0}).then(function(e){a.setState({profileInfo:e.data})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getProfileInfo()}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-128x128"},r.a.createElement("img",{src:"".concat(oe.REACT_APP_api,"/").concat(this.state.profileInfo.profileImage),alt:"Profile"}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},this.state.profileInfo.firstname," ",this.state.profileInfo.lastname),r.a.createElement("p",{className:"subtitle is-6"},"Username: \xa0 ",this.state.profileInfo.username))),r.a.createElement("div",{className:"content"},r.a.createElement("p",{className:"subtitle is-6"},"Time wallet: ",this.state.profileInfo.timeWallet," hour(s)"),r.a.createElement("p",null,"Registration Date: \xa0",r.a.createElement(N.a,{format:"D MMM YYYY",withTitle:!0},this.state.profileInfo.registrationDate)))))}}]),t}(n.Component),me=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).notificationControl=function(e,t){for(var n=[],r=0;r<e.length;r++)"Pending"===e[r].status&&n.push("new offer");switch(t){case"offers":return n.length>0?a.setState({myOffers:!0}):a.setState({myOffers:!1});case"petitions":return n.length>0?a.setState({petitionsNotification:!0}):a.setState({petitionsNotification:!1});default:return null}},a.getMyOffers=function(){g()({method:"get",url:"".concat(me.REACT_APP_api,"/my-offers"),withCredentials:!0}).then(function(e){a.setState({listOfMyOffers:e.data}),a.notificationControl(e.data,"offers")})},a.getMyPetitions=function(){g()({method:"get",url:"".concat(me.REACT_APP_api,"/my-petitions"),withCredentials:!0}).then(function(e){a.setState({listOfPetitions:e.data}),a.notificationControl(e.data,"petitions")})},a.state={activeSection:"all requests",petitionsNotification:!1,listOfPetitions:[],myOffers:!1,listOfMyOffers:[]},a.openSection=a.openSection.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"openSection",value:function(e){this.setState({activeSection:e})}},{key:"componentDidMount",value:function(){this.getMyPetitions(),this.getMyOffers()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("aside",{className:"menu column is-3"},r.a.createElement("ul",{className:"menu-label"},r.a.createElement("li",null,r.a.createElement(v.b,{onClick:function(){e.openSection("all requests")}},"My offers \xa0",this.state.myOffers?r.a.createElement("i",{className:"fas fa-bolt"}):r.a.createElement("i",{className:"fas fa-times"})))),r.a.createElement("ul",{className:"menu-label"},r.a.createElement("li",null,r.a.createElement(v.b,{onClick:function(){e.openSection("my petitions")}},"My petitions \xa0",this.state.petitionsNotification?r.a.createElement("i",{className:"fas fa-bolt"}):r.a.createElement("i",{className:"fas fa-times"})))),r.a.createElement("p",{className:"menu-label"},r.a.createElement(v.b,{onClick:function(){e.openSection("messages")}},"Direct messages")),r.a.createElement("p",{className:"menu-label"},r.a.createElement(v.b,{onClick:function(){e.openSection("profile")}},"Profile")),r.a.createElement("p",{className:"menu-label"},r.a.createElement(v.b,{onClick:function(){e.openSection("settings")}},"Settings"))),r.a.createElement("div",{className:"column"},function(){switch(e.state.activeSection){case"all requests":return r.a.createElement(H,Object.assign({},e.props,e.state,{updateOffers:e.getMyOffers,listOfMyOffers:e.state.listOfMyOffers}));case"my petitions":return r.a.createElement(Z,Object.assign({},e.props,e.state,{listOfPetitions:e.state.listOfPetitions}));case"messages":return r.a.createElement(se,null);case"profile":return r.a.createElement(ie,null);case"settings":return r.a.createElement(ce,e.props);default:return r.a.createElement(H,Object.assign({},e.props,e.state,{listOfMyOffers:e.state.listOfMyOffers}))}}()))))}}]),t}(n.Component),de=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),pe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleInput=function(e){var t={};t[e.target.name]=e.target.value,a.setState(t)},a.handleSubmit=function(e){e.preventDefault();var t=new FormData(a.form.current);g()({method:"post",url:"".concat(de.REACT_APP_api,"/publish-offer"),config:{headers:{"Content-Type":"multipart/form-data"}},data:t,withCredentials:!0}).then(function(e){a.props.history.push("/")}).catch(function(e){a.setState({error:"Something went wrong! Your offer was not published"})})},a.state={title:"",postalcode:"",description:"",date:"",duration:"",category:"",error:""},a.form=r.a.createRef(),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{ref:this.form,onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Title"),r.a.createElement("div",{className:"control has-icons-left has-icons-right"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,name:"title",className:"input",type:"text",placeholder:"Title",value:this.state.title})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Postal code"),r.a.createElement("div",{className:"control has-icons-left has-icons-right"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,name:"postalcode",className:"input",type:"text",placeholder:"1077XT",value:this.state.postalcode})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Description"),r.a.createElement("div",{className:"control has-icons-left has-icons-right"},r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{onChange:this.handleInput,name:"description",className:"textarea",placeholder:"Describe your offer in max 250 characters",maxLength:"250",value:this.state.description})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Date"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,name:"date",className:"input",type:"date",placeholder:"Date",value:this.state.date}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Duration"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,name:"duration",className:"input",type:"number",placeholder:"Duration",value:this.state.duration,min:"1"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Category"),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"select"},r.a.createElement("select",{name:"category",value:this.state.category,onChange:this.handleInput},r.a.createElement("option",null,"Select a category"),r.a.createElement("option",{value:"house"},"House"),r.a.createElement("option",{value:"technology"},"Technology"),r.a.createElement("option",{value:"music"},"Music"),r.a.createElement("option",{value:"repair"},"Repair"),r.a.createElement("option",{value:"languages"},"Languages"),r.a.createElement("option",{value:"cooking"},"Cooking"))))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Image"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,name:"image",className:"input",type:"file"}))),r.a.createElement("p",{style:{color:"red"}},this.state.error?this.state.error:""),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-link"},"Submit")),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-text"},"Cancel")))))}}]),t}(n.Component),he=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),fe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleInput=function(e){var t={};t[e.target.name]=e.target.value,a.setState(t)},a.handleSubmit=function(e){e.preventDefault();var t=a.state;g()({method:"post",url:"".concat(he.REACT_APP_api,"/login"),data:t,withCredentials:!0}).then(function(e){a.props.loggedIn(!0,a.state.username),a.props.history.push("/dashboard")}).catch(function(e){a.setState({error:"Username or email is incorrect"}),a.props.history.push("/login")})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"hero is-fullheight"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("div",{className:"column is-4 is-offset-4"},r.a.createElement("h3",{className:"title has-text-grey"},"Login"),r.a.createElement("p",{className:"subtitle has-text-grey"},"Please login to proceed."),r.a.createElement("div",{className:"box"},r.a.createElement("figure",{className:"avatar"},r.a.createElement("img",{src:"timextime.jpg",alt:""})),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,className:"input is-large",type:"username",name:"username",placeholder:"Username",value:this.state.username,required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,className:"input is-large",type:"password",name:"password",placeholder:"Password",value:this.state.password,required:!0}))),r.a.createElement("p",{style:{color:"red"}},this.state.error?this.state.error:""),r.a.createElement("button",{className:"button is-block is-large is-fullwidth"},"Login"))),r.a.createElement("p",{className:"has-text-grey"}," New to Time4Time?",r.a.createElement(v.b,{to:"/signup"}," Sign Up"))))))}}]),t}(n.Component),Ee=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),ge=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",firstname:"",lastname:"",email:"",birth:"",error:""},a.handleInput=function(e){var t={};t[e.target.name]=e.target.value,a.setState(t)},a.handleSubmit=function(e){e.preventDefault();var t=a.state;g()({method:"post",url:"".concat(Ee.REACT_APP_api,"/signup"),data:t,withCredentials:!0}).then(function(e){a.props.loggedIn(!0),a.props.history.push("/dashboard")}).catch(function(e){a.setState({error:"Username or email already taken"})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("div",{className:"column is-4 is-offset-4"},r.a.createElement("h3",{className:"title has-text-grey"},"Sign up"),r.a.createElement("p",{className:"subtitle has-text-grey"},"Please sign up to proceed."),r.a.createElement("div",{className:"box"},r.a.createElement("figure",{className:"avatar"},r.a.createElement("img",{src:"timextime.jpg",alt:""})),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,className:"input is-large",type:"text",name:"firstname",placeholder:"First name",value:this.state.firstname,required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,className:"input is-large",type:"text",name:"lastname",placeholder:"Last name",value:this.state.lastname,required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,className:"input is-large",type:"text",name:"username",placeholder:"Username",value:this.state.username,pattern:"[a-zA-Z0-9]+",title:"only characters and numbers",required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,className:"input is-large",type:"email",name:"email",placeholder:"e-mail",value:this.state.email,required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleInput,className:"input is-large",type:"date",name:"birth",placeholder:"Birth Date",value:this.state.birth,required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Time wallet:"),r.a.createElement("div",{className:"control has-text-centered"},r.a.createElement("p",{style:{color:"green"}},"When you sign up you get 2 hours to spend!"))),r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control has-icons-left"},r.a.createElement("input",{onChange:this.handleInput,className:"input is-large",type:"password",name:"password",placeholder:"Password",value:this.state.password,pattern:"^[a-zA-Z0-9]{8,}$",title:"At least 8 characters",required:!0}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"})))),r.a.createElement("p",{style:{color:"red"}},this.state.error?this.state.error:""),r.a.createElement("button",{className:"button is-block is-large is-fullwidth",value:"submit"},"Sign up"))),r.a.createElement("p",{className:"has-text-grey"},"Already got an account?",r.a.createElement(v.b,{to:"/login"}," Login"))))))}}]),t}(n.Component),ve=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container is-fluid columns"},r.a.createElement("div",{className:"column is-2 is-vcentered"},r.a.createElement("img",{className:"footer-img",src:"/logo_black.png",alt:""})),r.a.createElement("div",{className:"has-text-left column is-vcentered"},r.a.createElement("p",null,r.a.createElement("strong",null,"About us")),r.a.createElement("p",null,"In Time 4 Time, we believe in circular economy. Modern society is created around the value of money. Our purpose is to go back to simpler times when you could enjoy your free time without having to be productive all the time. If you too are tired of the pressure of modern times, you can join us and meet new people to learn lots of new things in an environment where sharing is the key."))))}}]),t}(n.Component),be=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_api:"http://159.65.206.1"}),Ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).logMeOut=function(){g()({method:"post",url:"".concat(be.REACT_APP_api,"/logout"),withCredentials:!0}).then(function(e){a.props.logOut()}).catch(function(e){console.log(e)})},a.toggleDropdownMenu=function(){"navbar-dropdown is-hidden"===a.state.dropdownMenu?a.setState({dropdownMenu:"navbar-dropdown"}):a.setState({dropdownMenu:"navbar-dropdown is-hidden"})},a.state={dropdownMenu:"navbar-dropdown is-hidden"},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar is-transparent"},r.a.createElement("div",{className:"container is-fluid"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(v.c,{className:"navbar-item",to:"/"},r.a.createElement("img",{src:"/logo_black.png",alt:"",height:"98"})),r.a.createElement("div",{onClick:this.toggleDropdownMenu,className:"navbar-burger burger","data-target":"navbarExampleTransparentExample"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{className:this.state.dropdownMenu},r.a.createElement(v.c,{onClick:this.toggleDropdownMenu,to:"/",className:"navbar-item"},"Home"),r.a.createElement(v.c,{onClick:this.toggleDropdownMenu,to:"/login",className:"navbar-item"},"Login"),r.a.createElement(v.c,{onClick:this.toggleDropdownMenu,to:"/signup",className:"navbar-item"},"Sign up")),r.a.createElement("div",{id:"navbarExampleTransparentExample",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(v.c,{to:"/",className:"navbar-item"},"Home")),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("p",{className:"control"},r.a.createElement(v.c,{to:"/login"},"Login")),r.a.createElement("p",{className:"control"},r.a.createElement(v.c,{to:"/signup"},"Sign Up"))))))))}}]),t}(n.Component),Oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).logMeOut=function(){g()({method:"post",url:"".concat(be.REACT_APP_api,"/logout"),withCredentials:!0}).then(function(e){a.props.logOut()}).catch(function(e){console.log(e)})},a.toggleDropdownMenu=function(){"navbar-dropdown is-hidden"===a.state.dropdownMenu?a.setState({dropdownMenu:"navbar-dropdown"}):a.setState({dropdownMenu:"navbar-dropdown is-hidden"})},a.state={dropdownMenu:"navbar-dropdown is-hidden"},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar is-transparent"},r.a.createElement("div",{className:"container is-fluid"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(v.c,{className:"navbar-item",to:"/"},r.a.createElement("img",{src:"/logo_black.png",alt:"",height:"98"})),r.a.createElement("div",{onClick:this.toggleDropdownMenu,className:"navbar-burger burger","data-target":"navbarExampleTransparentExample"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{className:this.state.dropdownMenu},r.a.createElement(v.c,{onClick:this.toggleDropdownMenu,to:"/",className:"navbar-item"},"Home"),r.a.createElement(v.c,{onClick:this.toggleDropdownMenu,to:"/dashboard",className:"navbar-item"},"Dashboard"),r.a.createElement(v.c,{onClick:this.toggleDropdownMenu,to:"/publish-offer",className:"navbar-item"},"Publish new offer"),r.a.createElement(v.c,{onClick:function(){e.toggleDropdownMenu(),e.logMeOut()},to:"/login",className:"navbar-item"},"Logout")),r.a.createElement("div",{id:"navbarExampleTransparentExample",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(v.c,{to:"/",className:"navbar-item"},"Home"),r.a.createElement(v.c,{to:"/dashboard",className:"navbar-item"},"Dashboard")),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("p",{className:"control"},r.a.createElement(v.c,{to:"/publish-offer"},r.a.createElement("button",{className:"button is-success"},"Publish new offer"))),r.a.createElement("p",{className:"control"},"Hello, ",r.a.createElement(v.c,{to:"/dashboard"},this.props.username)),r.a.createElement("p",{className:"control"},r.a.createElement(v.c,{to:"/login",onClick:this.logMeOut},"Logout"))))))))}}]),t}(n.Component),ye=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loggedIn:!1,username:""},a.loggedIn=function(e,t){a.setState({loggedIn:e,username:t})},a.logOut=function(){a.setState({loggedIn:!1,username:""})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,this.state.loggedIn?r.a.createElement(Oe,Object.assign({},this.state,{logOut:this.logOut})):r.a.createElement(Ne,this.state)),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(F,Object.assign({},t,e.state))}}),r.a.createElement(d.b,{path:"/login",render:function(t){return r.a.createElement(fe,Object.assign({},t,{loggedIn:e.loggedIn}))}}),r.a.createElement(d.b,{path:"/signup",render:function(t){return r.a.createElement(ge,Object.assign({},t,{loggedIn:e.loggedIn}))}}),r.a.createElement(h,Object.assign({path:"/dashboard",component:ue},this.state,{currentUsername:this.state.username,loggedIn:this.state.loggedIn})),r.a.createElement(h,{path:"/publish-offer",component:pe,currentUsername:this.state.username,loggedIn:this.state.loggedIn}),r.a.createElement(h,{path:"/profile/:id",component:k,currentUsername:this.state.username,loggedIn:this.state.loggedIn})),r.a.createElement(ve,null))}}]),t}(n.Component);a(335),a(336),a(337),a(338),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(v.a,null,r.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},84:function(e){e.exports={api:"http://localhost:3001"}}},[[152,1,2]]]);
//# sourceMappingURL=main.b3805c0b.chunk.js.map